"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _logger=_interopRequireDefault(require("../../../../utils/logger"));var _formatErrors=_interopRequireDefault(require("../../../../utils/formatErrors"));var _permission=require("../../../../utils/permission");var _os=require("os");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var _default=_permission.requireAuth.createResolver(async(parent,args,{models})=>{try{const team=await models.Team.findOne({where:{id:args.teamId}});if(team.ower===_os.userInfo.id){return{ok:false,errors:[{path:'name',message:'You have to be owner of the team for create channel'}]};}const channel=await models.Channel.create(args);return{ok:true,channel};}catch(err){_logger.default.error(err);return{ok:false,errors:(0,_formatErrors.default)(err,models)};}});exports.default=_default;
//# sourceMappingURL=addChannel.js.map