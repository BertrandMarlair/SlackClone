{"version":3,"sources":["../../../../../src/schema/models/team/sequelize/index.js"],"names":["sequelize","DataTypes","Team","define","name","type","STRING","unique","validate","isAlphanumeric","args","msg","len","associate","models","belongsToMany","User","through","Member","foreignKey","field","belongsTo"],"mappings":"0GAAe,CAACA,SAAD,CAAYC,SAAZ,GAA0B,CACrC,KAAMC,CAAAA,IAAI,CAAGF,SAAS,CAACG,MAAV,CAAiB,MAAjB,CAAyB,CAClCC,IAAI,CAAE,CACFC,IAAI,CAAEJ,SAAS,CAACK,MADd,CAEFC,MAAM,CAAE,IAFN,CAGFC,QAAQ,CAAE,CACNC,cAAc,CAAE,CACZC,IAAI,CAAE,IADM,CAEZC,GAAG,CAAE,2DAFO,CADV,CAKNC,GAAG,CAAE,CACDF,IAAI,CAAE,CAAC,CAAD,CAAI,EAAJ,CADL,CAEDC,GAAG,CAAE,mEAFJ,CALC,CAHR,CAD4B,CAAzB,CAAb,CAiBAT,IAAI,CAACW,SAAL,CAAkBC,MAAD,EAAY,CACzBZ,IAAI,CAACa,aAAL,CAAmBD,MAAM,CAACE,IAA1B,CAAgC,CAC5BC,OAAO,CAAEH,MAAM,CAACI,MADY,CAE5BC,UAAU,CAAE,CACRf,IAAI,CAAE,QADE,CAERgB,KAAK,CAAE,SAFC,CAFgB,CAAhC,EAOAlB,IAAI,CAACmB,SAAL,CAAeP,MAAM,CAACE,IAAtB,CAA4B,CACxBG,UAAU,CAAE,OADY,CAA5B,EAGH,CAXD,CAaA,MAAOjB,CAAAA,IAAP,CACH,C","sourcesContent":["export default (sequelize, DataTypes) => {\n    const Team = sequelize.define('team', {\n        name: {\n            type: DataTypes.STRING,\n            unique: true,\n            validate: {\n                isAlphanumeric: {\n                    args: true,\n                    msg: 'The name of the team can only contain lettres ans numbers'\n                },\n                len: {\n                    args: [3, 25],\n                    msg: 'The name of the team needs to be between 3 and 25 characters long'\n                },\n            }\n        },\n    });\n\n    Team.associate = (models) => {\n        Team.belongsToMany(models.User, {\n            through: models.Member,\n            foreignKey: {\n                name: 'teamId',\n                field: 'team_id',\n            },\n        });\n        Team.belongsTo(models.User, {\n            foreignKey: 'owner',\n        });\n    };\n\n    return Team;\n};"],"file":"index.js"}