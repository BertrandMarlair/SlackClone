{"version":3,"sources":["../../../../../src/schema/models/team/resolvers/Team.js"],"names":["channels","id","args","models","Channel","findAll","where","teamId","directMessageMembers","user","sequelize","query","bind","type","QueryTypes","SELECT","User","raw"],"mappings":"0GAAe,CACXA,QAAQ,CAAE,CAAC,CAACC,EAAD,CAAD,CAAOC,IAAP,CAAa,CAACC,MAAD,CAAb,GACNA,MAAM,CAACC,OAAP,CAAeC,OAAf,CAAuB,CAACC,KAAK,CAAE,CAACC,MAAM,CAAEN,EAAT,CAAR,CAAvB,CAFO,CAGXO,oBAAoB,CAAE,CAAC,CAACP,EAAD,CAAD,CAAOC,IAAP,CAAa,CAACC,MAAD,CAASM,IAAT,CAAb,GAClBN,MAAM,CAACO,SAAP,CAAiBC,KAAjB,CACI,4MADJ,CAEI,CACIC,IAAI,CAAE,CAACH,IAAI,CAACR,EAAN,CAAUA,EAAV,CADV,CAEIY,IAAI,CAAEV,MAAM,CAACO,SAAP,CAAiBI,UAAjB,CAA4BC,MAFtC,CAGIZ,MAAM,CAAEA,MAAM,CAACa,IAHnB,CAIIC,GAAG,CAAE,IAJT,CAFJ,CAJO,C","sourcesContent":["export default {\n    channels: ({id}, args, {models}) =>\n        models.Channel.findAll({where: {teamId: id}}),\n    directMessageMembers: ({id}, args, {models, user}) =>\n        models.sequelize.query(\n            \"select distinct on (u.id) u.id, u.username from users as u join direct_messages as dm on (u.id = dm.sender_id or u.id = receiver_id) where ($1 = dm.sender_id or $1 = dm.receiver_id) and dm.team_id = $2 \",\n            {\n                bind: [user.id, id],\n                type: models.sequelize.QueryTypes.SELECT,\n                models: models.User,\n                raw: true,\n            },\n        ),\n};\n"],"file":"Team.js"}