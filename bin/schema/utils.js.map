{"version":3,"sources":["../../src/schema/utils.js"],"names":["parseDefinitions","arr","key","map","definitions","join","generateTypeDefs","models","generateResolvers","resolvers","Query","Mutation","Subscription","forEach","types","queries","mutations","subscriptions","arangoElementResolver","id","_key"],"mappings":"uwBAAA,KAAMA,CAAAA,gBAAgB,CAAG,CAACC,GAAD,CAAMC,GAAN,GACrBD,GAAG,CAACE,GAAJ,CAAQ,CAAC,CACL,CAACD,GAAD,EAAO,CACHE,WAAW,CAAG,EADX,EAEH,EAHC,CAAD,GAIFA,WAJN,EAImBC,IAJnB,CAIwB,IAJxB,CADJ,CAOO,KAAMC,CAAAA,gBAAgB,CAAGC,MAAM,EAAK;MACrCP,gBAAgB,CAACO,MAAD,CAAS,OAAT,CAAkB;;;UAG9BP,gBAAgB,CAACO,MAAD,CAAS,SAAT,CAAoB;;;;UAIpCP,gBAAgB,CAACO,MAAD,CAAS,WAAT,CAAsB;;;;UAItCP,gBAAgB,CAACO,MAAD,CAAS,eAAT,CAA0B;;CAZ7C,C,0CAgBA,KAAMC,CAAAA,iBAAiB,CAAGD,MAAM,EAAI,CACvC,GAAIE,CAAAA,SAAS,CAAG,CACZC,KAAK,CAAE,EADK,CAEZC,QAAQ,CAAE,EAFE,CAGZC,YAAY,CAAE,EAHF,CAAhB,CAMAL,MAAM,CAACM,OAAP,CACI,CAAC,CACGC,KAAK,CAAG,EADX,CAEGC,OAAO,CAAG,EAFb,CAGGC,SAAS,CAAG,EAHf,CAIGC,aAAa,CAAG,EAJnB,CAAD,GAKM,CACF,GAAIH,KAAK,CAACL,SAAV,CAAqB,CACjBA,SAAS,kBACFA,SADE,CAEFK,KAAK,CAACL,SAFJ,CAAT,CAIH,CACD,GAAIM,OAAO,CAACN,SAAZ,CAAuB,CACnBA,SAAS,CAACC,KAAV,kBACOD,SAAS,CAACC,KADjB,CAEOK,OAAO,CAACN,SAFf,EAIH,CACD,GAAIO,SAAS,CAACP,SAAd,CAAyB,CACrBA,SAAS,CAACE,QAAV,kBACOF,SAAS,CAACE,QADjB,CAEOK,SAAS,CAACP,SAFjB,EAIH,CACD,GAAIQ,aAAa,CAACR,SAAlB,CAA6B,CACzBA,SAAS,CAACG,YAAV,kBACOH,SAAS,CAACG,YADjB,CAEOK,aAAa,CAACR,SAFrB,EAIH,CACJ,CA/BL,EAkCA,MAAOA,CAAAA,SAAP,CACH,CA1CM,C,4CA4CA,KAAMS,CAAAA,qBAAqB,CAAG,CACjCC,EAAE,CAAC,CACCC,IADD,CAAD,CAEC,CACC,MAAOA,CAAAA,IAAP,CACH,CALgC,CAA9B,C","sourcesContent":["const parseDefinitions = (arr, key) =>\n    arr.map(({\n        [key]: {\n            definitions = \"\"\n        } = {}\n    }) => definitions).join(\"\\n\");\n\nexport const generateTypeDefs = models => `\n    ${parseDefinitions(models, \"types\")}\n\n    type Query {\n        ${parseDefinitions(models, \"queries\")}\n    }\n\n    type Mutation {\n        ${parseDefinitions(models, \"mutations\")}\n    }\n\n    type Subscription {\n        ${parseDefinitions(models, \"subscriptions\")}\n    }\n`;\n\nexport const generateResolvers = models => {\n    let resolvers = {\n        Query: {},\n        Mutation: {},\n        Subscription: {}\n    };\n    \n    models.forEach(\n        ({\n            types = {},\n            queries = {},\n            mutations = {},\n            subscriptions = {}\n        }) => {\n            if (types.resolvers) {\n                resolvers = {\n                    ...resolvers,\n                    ...types.resolvers\n                };\n            }\n            if (queries.resolvers) {\n                resolvers.Query = {\n                    ...resolvers.Query,\n                    ...queries.resolvers\n                };\n            }\n            if (mutations.resolvers) {\n                resolvers.Mutation = {\n                    ...resolvers.Mutation,\n                    ...mutations.resolvers,\n                };\n            }\n            if (subscriptions.resolvers) {\n                resolvers.Subscription = {\n                    ...resolvers.Subscription,\n                    ...subscriptions.resolvers,\n                };\n            }\n        },\n    );\n\n    return resolvers;\n};\n\nexport const arangoElementResolver = {\n    id({\n        _key\n    }) {\n        return _key;\n    },\n};\n"],"file":"utils.js"}